<!DOCTYPE html>
<html lang="pt-BR">
<head>
<meta charset="UTF-8">
<title>Orçamento</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<style>

/* ===== TAMANHO A4 ===== */
@page {
    size: A4;
    margin: 15mm;
}

body{
    margin:0;
    font-family:Arial, sans-serif;
    background:#f4f4f4;
    color:#222;
}

.documento{
    width:210mm;
    min-height:297mm;
    margin:auto;
    background:white;
    padding:15mm;
    box-sizing:border-box;
}

/* ===== TOPO ===== */
.topo{
    display:flex;
    align-items:center;
    gap:25px;
}

.topo img{
    width:120px;
}

.dados-empresa{
    font-size:13px;
    line-height:1.5;
}

.linha{
    border-top:1px solid #ccc;
    margin:10px 0 20px 0;
}

/* ===== TÍTULOS ===== */
.numero{
    text-align:center;
    font-weight:bold;
    font-size:15px;
    margin-bottom:15px;
}

h2{
    font-size:14px;
    margin:15px 0 8px 0;
    border-bottom:1px solid #ddd;
    padding-bottom:3px;
}

/* ===== CAMPOS ===== */
.grid{
    display:grid;
    grid-template-columns:1fr 1fr;
    gap:10px;
}

input, select{
    width:100%;
    padding:5px;
    font-size:12px;
    border:1px solid #ccc;
}

/* ===== TABELA ===== */
table{
    width:100%;
    border-collapse:collapse;
    font-size:12px;
}

th{
    border-bottom:1px solid #999;
    padding:6px;
    text-align:left;
}

td{
    padding:4px;
    border-bottom:1px solid #eee;
}

th:nth-child(2),
th:nth-child(3),
th:nth-child(4),
td:nth-child(2),
td:nth-child(3),
td:nth-child(4){
    text-align:center;
}

/* ===== TOTAL ===== */
.total-area{
    margin-top:10px;
    text-align:right;
    font-size:13px;
}

.total-final{
    font-weight:bold;
    font-size:15px;
}

/* ===== RODAPÉ ===== */
.rodape{
    margin-top:15px;
    padding-top:8px;
    border-top:1px solid #ccc;
    text-align:center;
    font-size:11px;
    color:#555;
}

/* ===== BOTÃO (não aparece no PDF) ===== */
button{
    margin-top:15px;
    width:100%;
    padding:10px;
    border:none;
    background:black;
    color:white;
    font-weight:bold;
    cursor:pointer;
}

@media print{
    body{
        background:white;
    }
    button{
        display:none;
    }
}

</style>
</head>

<body>

<div class="documento">

<div class="topo">
    <img src="Logo-nova.jpeg">
    <div class="dados-empresa">
        CNPJ: 48.027.075/0001-92<br>
        Av Treze de Maio, 1310 - CEP 14090-260<br>
        WhatsApp: (16) 99607-3421
    </div>
</div>

<div class="linha"></div>

<div class="numero">
ORÇAMENTO Nº <span id="numeroOrc"></span>
</div>

<h2>Dados do Cliente</h2>

<div class="grid">
<input placeholder="Nome do Cliente">
<input placeholder="Telefone">
<input placeholder="Placa do Veículo">
<input placeholder="Modelo do Veículo">
</div>

<br>
<input type="date">

<h2>Itens do Orçamento</h2>

<table>
<thead>
<tr>
<th>Descrição</th>
<th>Qtd</th>
<th>Valor Unit.</th>
<th>Total</th>
</tr>
</thead>
<tbody id="tabelaItens"></tbody>
</table>

<select style="margin-top:8px;">
<option>Forma de Pagamento</option>
<option>Dinheiro</option>
<option>Pix</option>
<option>Cartão Crédito</option>
<option>Cartão Débito</option>
</select>

<div class="total-area">
<p>Subtotal: R$ <span id="subtotal">0.00</span></p>
<p>Desconto: R$ <input type="number" id="desconto" value="0" style="width:80px;"></p>
<p class="total-final">
Total Final: R$ <span id="totalFinal">0.00</span>
</p>
</div>

<div class="rodape">
Este orçamento tem validade de 30 dias a partir da data de emissão.
</div>

<button onclick="window.print()">GERAR PDF</button>

</div>

<script>

// Número automático
document.getElementById("numeroOrc").innerText =
new Date().getFullYear() + "-" + Math.floor(Math.random()*900+100);

// Criar 8 linhas (reduzido para caber A4)
const tabela = document.getElementById("tabelaItens");

for(let i=0;i<8;i++){
    tabela.innerHTML += `
    <tr>
        <td><input></td>
        <td><input type="number" class="qtd" value="0"></td>
        <td><input type="number" class="valor" value="0"></td>
        <td>R$ <span class="linhaTotal">0.00</span></td>
    </tr>
    `;
}

// Cálculo automático
function calcular(){
    let subtotal = 0;
    const qtds = document.querySelectorAll(".qtd");
    const valores = document.querySelectorAll(".valor");
    const totais = document.querySelectorAll(".linhaTotal");

    for(let i=0;i<qtds.length;i++){
        let totalLinha = qtds[i].value * valores[i].value;
        totais[i].innerText = totalLinha.toFixed(2);
        subtotal += totalLinha;
    }

    document.getElementById("subtotal").innerText = subtotal.toFixed(2);

    let desconto = document.getElementById("desconto").value;
    let totalFinal = subtotal - desconto;

    document.getElementById("totalFinal").innerText = totalFinal.toFixed(2);
}

document.addEventListener("input", calcular);

</script>

</body>
</html>
