<!DOCTYPE html>
<html lang="pt-BR">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Orçamento - Planeta dos Retrovisores</title>

<style>
body{
    margin:0;
    font-family:Arial, Helvetica, sans-serif;
    background:linear-gradient(to bottom,#000,#111);
    color:white;
}

.topo{
    display:flex;
    align-items:center;
    justify-content:center;
    gap:40px;
    padding:25px;
    border-bottom:2px solid gold;
    flex-wrap:wrap;
}

.logo-area img{
    max-width:250px;
}

.empresa-area{
    text-align:left;
}

.empresa-area h1{
    color:gold;
    margin-bottom:10px;
}

.container{
    max-width:1100px;
    margin:auto;
    padding:20px;
}

.card{
    background:#111;
    padding:20px;
    border-radius:10px;
    margin-bottom:20px;
    border:1px solid #222;
}

h2{
    color:gold;
}

input, select{
    width:100%;
    padding:8px;
    margin-bottom:8px;
    background:#000;
    border:1px solid #333;
    color:white;
    border-radius:5px;
}

table{
    width:100%;
    border-collapse:collapse;
    margin-top:10px;
}

th{
    color:gold;
    border-bottom:1px solid #333;
    padding:8px;
}

td{
    padding:6px;
    text-align:center;
}

td input{
    width:90%;
}

.total-area{
    text-align:right;
    margin-top:15px;
}

button{
    width:100%;
    padding:12px;
    background:gold;
    border:none;
    font-weight:bold;
    margin-top:10px;
    cursor:pointer;
    border-radius:6px;
}

button:hover{
    background:#d4af37;
}

.whatsapp-btn{
    background:#25D366;
    margin-top:10px;
}

.rodape{
    text-align:center;
    padding:20px;
    border-top:2px solid gold;
    margin-top:40px;
    font-size:14px;
}
</style>
</head>

<body>

<header class="topo">
    <div class="logo-area">
        <img src="Logo-nova.jpeg" alt="Logo Planeta dos Retrovisores">
    </div>

    <div class="empresa-area">
        <p><strong>CNPJ:</strong> 48.027.075/0001-92</p>
        <p>Av Treze de Maio, 1310 - CEP 14090-260</p>
        <p>WhatsApp: (16) 99607-3421</p>
        <p><strong>Orçamento Nº <span id="numeroOrc"></span></strong></p>
    </div>
</header>

<div class="container">

<div class="card">
<h2>Dados do Cliente</h2>
<input placeholder="Nome do Cliente">
<input placeholder="Telefone">
<input placeholder="Placa">
<input placeholder="Modelo do Veículo">
<input type="date">
</div>

<div class="card">
<h2>Itens do Orçamento</h2>

<table>
<thead>
<tr>
<th style="text-align:left;">Descrição</th>
<th>Qtd</th>
<th>Valor Unit.</th>
<th>Total</th>
</tr>
</thead>
<tbody id="tabelaItens"></tbody>
</table>

<select>
<option>Forma de Pagamento</option>
<option>Dinheiro</option>
<option>Pix</option>
<option>Cartão Crédito</option>
<option>Cartão Débito</option>
</select>

<div class="total-area">
<p><strong>Subtotal:</strong> R$ <span id="subtotal">0.00</span></p>
<p><strong>Desconto:</strong> R$ <input type="number" id="desconto" value="0" style="width:100px;"></p>
<p style="font-size:20px;color:gold;">
<strong>Total Final:</strong> R$ <span id="totalFinal">0.00</span>
</p>
</div>

<button onclick="window.print()">GERAR PDF</button>

<button class="whatsapp-btn" onclick="enviarWhatsApp()">
ENVIAR ORÇAMENTO NO WHATSAPP
</button>

</div>
</div>

<div class="rodape">
Orçamento válido por 30 dias.<br>
Garantia de 30 dias contra defeitos de instalação.
</div>

<script>

// Número automático
document.getElementById("numeroOrc").innerText =
new Date().getFullYear() + "-" + Math.floor(Math.random()*1000);

// Criar 10 linhas
const tabela = document.getElementById("tabelaItens");

for(let i=0;i<10;i++){
    tabela.innerHTML += `
    <tr>
        <td><input style="text-align:left;"></td>
        <td><input type="number" class="qtd" value="0"></td>
        <td><input type="number" class="valor" value="0"></td>
        <td>R$ <span class="linhaTotal">0.00</span></td>
    </tr>
    `;
}

// Cálculo automático
function calcular(){
    let subtotal = 0;
    const qtds = document.querySelectorAll(".qtd");
    const valores = document.querySelectorAll(".valor");
    const totais = document.querySelectorAll(".linhaTotal");

    for(let i=0;i<qtds.length;i++){
        let totalLinha = qtds[i].value * valores[i].value;
        totais[i].innerText = totalLinha.toFixed(2);
        subtotal += totalLinha;
    }

    document.getElementById("subtotal").innerText = subtotal.toFixed(2);

    let desconto = document.getElementById("desconto").value;
    let totalFinal = subtotal - desconto;

    document.getElementById("totalFinal").innerText = totalFinal.toFixed(2);
}

document.addEventListener("input", calcular);

// Botão WhatsApp
function enviarWhatsApp(){
    let total = document.getElementById("totalFinal").innerText;
    let numero = document.getElementById("numeroOrc").innerText;
    let mensagem = `Olá! Segue orçamento Nº ${numero}.\nTotal: R$ ${total}`;
    window.open(`https://wa.me/5516996073421?text=${encodeURIComponent(mensagem)}`);
}

</script>

</body>
</html>
